Orders Index

%p

Total Orders by Status

%p

%table{id: 'statusCount'}
  %th Order Status
  %th Number of Orders
  %tr
    %td
      = "shipped"
    %td
      = Order.find_all_by_status("shipped").count
  %tr
    %td
      ="cancelled"
    %td
      = Order.find_all_by_status("cancelled").count
  %tr
    %td
      = "pending"
    %td
      = Order.find_all_by_status("pending").count
  %tr
    %td
      = "paid"
    %td
      = Order.find_all_by_status("paid").count
  %tr
    %td
      = "returned"
    %td
      = Order.find_all_by_status("returned").count

%p

= link_to "View All Orders", admin_orders_path
= link_to "View Shipped Orders", admin_orders_path(status: "shipped")
= link_to "View Cancelled Orders", admin_orders_path(status: "cancelled")
= link_to "View Pending Orders", admin_orders_path(status: "pending")
= link_to "View Paid Orders", admin_orders_path(status: "paid")
= link_to "View Returned Orders", admin_orders_path(status: "returned")

%p


All Orders

%p

%table{id: 'all_orders'}
  %th Order ID
  %th Order Status
  %th View Order
  - @orders.each do |order|
    %tr
      %td
        = order.id
      %td 
        = order.status
      %td
        = form_for [:admin, order] do |f|
          = f.hidden_field :id
          = f.submit "View Order"